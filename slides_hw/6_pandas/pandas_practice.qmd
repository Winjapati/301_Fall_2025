---
title: "pandas_practice"
format: html
editor: 
  markdown: 
    wrap: 72
---

```{python}
import pandas as pd

df = pd.DataFrame({
    "language": ["Latin", "Greek", "Sanskrit", "Finnish"],
    "family":   ["Indo-European", "Indo-European", "Indo-European", "Uralic"],
    "speakers_millions": [0, 0, 0, 6],
    "location": ["Italy", "Greece", "India", "Finland"]
})

print(df)
```

```{python}
df["is_extinct"] = [True, True, True, False]
df
```

```{python}
# Drop (returns a new DF unless inplace=True)
df_no_family = df.drop(columns=["family"])
df_no_family
```

```{python}
# Drop (returns a new DF unless inplace=True) 
df_no_latin = df.drop([0])
df_no_latin
```

```{python}
df = df.rename(columns={"speakers_millions": "speakers_M"})
df
```

```{python}
df_reset_no_latin = df_no_latin.reset_index(drop=True)
df_reset_no_latin

df_reset = df.reset_index(drop=True)
df_reset

df_set = df.set_index("language")
df_set
```

```{python}
import pandas as pd

df = pd.DataFrame({
    "language": ["Latin", "Greek", "Sanskrit", "Finnish"],
    "family":   ["Indo-European", "Indo-European", "Indo-European", "Uralic"],
    "speakers_M": [0, 0, 0, 6],
    "location": ["Italy", "Greece", "India", "Finland"]
})

df.sort_index() # by row labels
print("-----------------------------------------------")
df.sort_values(by="location", ascending=True)
print("-----------------------------------------------")

```

```{python}
reflexes_verb = pd.Series(
    {"Latin": 8, "Greek": 10, "Sanskrit": 12, "Old English": 6}
)
reflexes_noun = pd.Series(
    {"Latin": 5, "Greek": 7, "Gothic": 4, "Old Church Slavonic": 3}
)

combined = pd.DataFrame({"verb": reflexes_verb, "noun": reflexes_noun})
combined
```

```{python}
total = reflexes_verb.add(reflexes_noun, fill_value=0)
total.sort_values(ascending=False)
```

```{python}
combined.isna().sum()
combined_filled = combined.fillna(0)
combined_dropped = combined.dropna()

combined
combined_filled
combined_dropped
```

```{python}
total = reflexes_verb.add(reflexes_noun, fill_value=0)
total.sort_values(ascending=False)
```

```{python}
import pandas as pd

sound_df = pd.DataFrame({
    "s": [35, 28, 40],
    "z": [20, 25, 18],
    "t": [50, 40, 53],
    "k": [42, 35, 48],
    "m": [18, 12, 17],
    "n": [22, 20, 19],
})

total_c = sound_df["s"].add(sound_df["z"]).add(sound_df["t"]).add(sound_df["k"]).add(sound_df["m"]).add(sound_df["n"])
#total_fric = sound_df["s"].add(sound_df["z"])
# total_nas = 
# total_obs = 
```

```{python}
import pandas as pd

sound_df = pd.DataFrame({
    "s": [35, 28, 40],
    "z": [20, 25, 18],
    "t": [50, 40, 53],
    "k": [42, 35, 48],
    "m": [18, 12, 17],
    "n": [22, 20, 19],
})

sound_comb = sound_df.sum(axis=0)
sound_comb

for c in sound_comb:
    if sound_comb["s" or "z" in sound_comb.items():
      print(c)
# total_fric = sound_comb["s"].add(sound_comb["z"])
```

```{python}
name = "Bob, Susie, Jimbo"
prof = "teacher, doctor, lawyer"
age = "45, 63, 119"
```

```{python}
name_split = name.split(",")
prof_split = prof.split(",")
age_split = age.split(",")
```

```{python}
import pandas as pd

recap_df = pd.DataFrame([prof_split, age_split], columns=name_split)
print(recap_df)
```

```{python}
import pandas as pd

data = { "Language": ["English", "Spanish", "Hindi"], 
"Nasals": [3, 3, 4], 
"Oral Stops": [6, 6, 5] }

df = pd.DataFrame(data)

add_1 = df["Nasals"].add(df["Oral Stops"])
sum_1 = df.sum()


print(add_1, sum_1)
```

```{python}
import pandas as pd

# Create the data
data = {
    "Consonant": ["p", "b", "t", "d", "k", "g", "s", "z", "m", "n", "l", "r", "w", "j", "h"],
    "Place": ["bilabial", "bilabial", "alveolar", "alveolar", "velar", "velar",
              "alveolar", "alveolar", "bilabial", "alveolar", "alveolar", "alveolar",
              "labial-velar", "palatal", "glottal"],
    "Manner": ["stop", "stop", "stop", "stop", "stop", "stop",
               "fricative", "fricative", "nasal", "nasal", "lateral", "trill",
               "glide", "glide", "fricative"],
    "Voicing": ["voiceless", "voiced", "voiceless", "voiced", "voiceless", "voiced",
                "voiceless", "voiced", "voiced", "voiced", "voiced", "voiced",
                "voiced", "voiced", "voiceless"]
}

# Create DataFrame
df = pd.DataFrame(data)

# Show DataFrame
print(df)

# Save to CSV
df.to_csv("conlang_c.csv", index=False)
```

```{python}
data = {
    "Consonant": ["p", "b", "t", "d", "k", "g", "s", "z", "m", "n", "l", "r", "w", "j", "h"],
    "Place": ["bilabial", "bilabial", "alveolar", "alveolar", "velar", "velar",
              "alveolar", "alveolar", "bilabial", "alveolar", "alveolar", "alveolar",
              "labial-velar", "palatal", "glottal"],
    "Manner": ["stop", "stop", "stop", "stop", "stop", "stop",
               "fricative", "fricative", "nasal", "nasal", "lateral", "trill",
               "glide", "glide", "fricative"],
    "Voicing": ["voiceless", "voiced", "voiceless", "voiced", "voiceless", "voiced",
                "voiceless", "voiced", "voiced", "voiced", "voiced", "voiced",
                "voiced", "voiced", "voiceless"]
}

# Create DataFrame
df = pd.DataFrame(data)

df.to_excel("conlang_c.xlsx", index=False)
```

```{python}
stops_csv_df = pd.read_csv("conlang_c.csv")
stops_csv_df.head()

print("\n-------------------------------------\n")

stops_excel_df = pd.read_excel("conlang_c.xlsx")
stops_excel_df.head()
```

```{python}
# Simple bar plot (requires matplotlib to be present)
import matplotlib.pyplot as plt

# Example small reflex table for demo
ref_df = pd.DataFrame({
    "Language": ["Latin","Greek","Sanskrit","Gothic","OCS","Oscan"],
    "Family":   ["Italic","Hellenic","Indic","Germanic","Slavic","Italic"],
    "Reflexes": [8,10,12,4,3,5]
})

ref_df.groupby("Family")["Reflexes"].sum()
ref_df.groupby("Family").agg(
    total=("Reflexes","sum"),
    mean=("Reflexes","mean"),
    n=("Reflexes","count")
)

counts = ref_df.groupby("Family")["Reflexes"].sum()
ax = counts.plot(kind="bar", title="Reflex Counts by Family")
ax.set_xlabel("Family")
ax.set_ylabel("Total Reflexes")

plt.tight_layout()   # optional, avoids label cutoff
plt.show()           # <-- this actually displays the plot
```

```{python}
import matplotlib.pyplot as plt

stops = pd.read_csv("conlang_c.csv")

c_counts = stops["Place"].value_counts().sort_values(ascending=False)

print(stops["Place"].value_counts())

print(c_counts)

ax = c_counts.plot(kind="bar", title="Number of Consonants by Place of Articulation")
ax.set_xlabel("Place of Articulation")
ax.set_ylabel("Total Cs")

# Rotate labels for readability
plt.xticks(rotation=45, ha="right")

plt.tight_layout()   
plt.show()           
```
